# Error de estado estacionario

## 1. Introducci贸n 

En este resumen se explicar谩 c贸mo funciona el error en estado estacionario, cu谩les son sus efectos en el sistema, como calcularlo frente a distintos tipos de entradas, cu谩les son sus fundamentos te贸ricos y como puede afectar la salida de nuestra planta. Este error tiene repercusiones en la salida de nuestro sistema despu茅s de que el sistema haya alcanzado un r茅gimen en nuestro sistema, por lo que es crucial entender c贸mo funciona este error para minimizarlo lo m谩s que se pueda para que nuestro sistema funcione correctamente como se pronostica.   

## 2. Funci贸n de error  

La funci贸n de error se encarga de medir la diferencia entre la salida y la funci贸n de transferencia cuando el sistema tiende a un tiempo infinito 

![](Imagenes/Error1.PNG).

Figura 1. funci贸n de error

En la imagen tenemos el error que afecta a nuestra entrada y salida.

$$E = R - y$$

$$y = EG$$

Despejamos las ecuaciones en t茅rminos del error 

$$E = R - EG$$

$$E = \frac{R}{1+G}$$

Y obtenemos el error en estado estacionario 

## 3. C谩lculo del error en estado estacionario 

Para calcular el error en estado estacionario necesitamos aplicar el teorema del valor final para medir la diferencia entre la salida y la funci贸n de transferencia en un tiempo infinito.

$$s\lim_{s \to 0} * E(s) = \lim_{s \to 0} * \frac{sR(s)}{1 + G(s)}$$

Y nuestra respuesta cambiara en base a la entrada que le metamos al sistema

### 3.1. Respuesta entrada escal贸n unitario 

Ante una entrada escal贸n, tendremos una entrada escal贸n unitario.

$$R(S) = \frac{1}{s}$$

Por lo que aplicando la entrada escal贸n al teorema del valor final tendremos lo siguiente:

$$E = \lim_{s \to 0} * \frac{sR(s)}{1 + G(s)}$$

$$\lim_{s \to 0} * \frac{s * \frac{1}{s}}{1 + G(s)}$$

$$\lim_{s \to 0} * \frac{1}{1 + G(s)}$$

Una vez resuelta la ecuaci贸n tendremos la soluci贸n a las entradas escal贸n; lo cual es igual al error de posici贸n. 

$$E_{ssp} = \frac{1}{1 + G(0)}$$

### 3.2. Respuesta entrada rampa

$$R(S) = \frac{1}{s^{2}}$$

Aplicando la entrada rampa al teorema del valor final.

$$E = \lim_{s \to 0} * \frac{sR(s)}{1 + G(s)}$$

Despejamos la ecuaci贸n 

$$\lim_{s \to 0} * \frac{s * \frac{1}{s^{2}}}{1 + G(s)}$$

$$\lim_{s \to 0}\frac{\frac{1}{s}}{1 + G(s)}$$

Obtenemos que  la ecuaci贸n es igual a este limite

$$\lim_{s \to 0}\frac{1}{s + sG(s)}$$

Como no sabemos si G(s) puede simplificar la "s" que est谩 multiplicando, la funci贸n quedara con el l铆mite de la siguiente forma:

$$E_{ssv} = \lim_{s \to 0}\frac{1}{sG(s)}$$

Esta ecuaci贸n es la que representa la respuesta ante una entrada rampa o un error de velocidad

### 3.3. Respuesta entrada par谩bola

$$R(S) = \frac{1}{s^{3}}$$

Frente a una entrada par谩bola hacemos lo mismo de multiplica nuestra entrada por nuestro l铆mite del teorema, y despejamos.

$$E = \lim_{s \to 0} * \frac{sR(s)}{1 + G(s)}$$

$$\lim_{s \to 0} * \frac{s * \frac{1}{s^{3}}}{1 + G(s)}$$

$$\lim_{s \to 0}\frac{\frac{1}{s^{2}}}{1 + G(s)}$$  

$$\lim_{s \to 0}\frac{1}{s^{2} + s^{2}G(s)}$$

En este caso nuestra "s" estar谩 elevada al cuadrado y de la misma manera que en el caso anterior no podremos utilizar el l铆mite todav铆a.

$$E_{ssa} = \lim_{s \to 0}\frac{1}{s^{2}G(s)}$$ 

Esta es la ecuaci贸n que se usa ante una entrada par谩bola, que representa un error de aceleraci贸n.

### 3.4. Ejemplos

Para los siguientes ejercicios se calcular谩 el error de posici贸n, velocidad, y aceleraci贸n de cada funci贸n de transferencia.

  Ejemplo 1

En el primer ejercicio tenemos la siguiente funci贸n

$$G = \frac{5}{s^{3} + 2s^{2} + 5s + 1}$$

Primero le aplicamos la f贸rmula de la entrada paso, y despejamos.

$$E_{ssp} = \frac{1}{1 + \frac{5}{0^{3} + 2(0)^{2} + 5(0) + 1}}$$
$$E_{ssp} = \frac{1}{1 + \frac{5}{1}} $$
Eso nos dar谩 que nuestro error de posici贸n, que es de $\frac{1}{6}$ 
$$E_{ssp} = \frac{1}{6}$$

Para el segundo caso usamos la f贸rmula de error de velocidad, y despejamos 

$$E_{ssv} = \lim_{s \to 0}\frac{1}{(s) \frac{5}{s^{3} + 2s^{2} + 5s + }}$$  

Al despejar terminamos con un $\infty$ en el denominador, por lo tanto, nos dar谩 que el error es cero.

$$E_{ssv} = \frac{1}{\infty}$$
$$E_{ssv} = 0$$

Por 煤ltimo, aplicamos la entrada tipo par谩bola, para luego despejar.

$$E_{ssa} = \lim_{s \to 0}\frac{1}{(s^{2}) (\frac{5}{s^{3} + 2s^{2} + 5s + 1}}$$
$$E_{ssa} = \lim_{s \to 0}\frac{1}{(0^{2}) \frac{5}{0^{3} + 2(0)^{2} + 5(0) + 1}}$$ 

Aqu铆 sucede lo mismo que con una entrada rampa, por lo tanto, esta tambi茅n nos dar谩 que es igual a cero.

$$E_{ssa} = \frac{1}{\infty} =  0$$

  Ejemplo 2

Esta es la funci贸n del segundo ejemplo, es bastante parecida al primer ejemplo, pero es un sistema de segundo orden debido a la "s" que multiplica en el denominador.

$$G = \frac{5}{s(s^{3} + 2s^{2} + 5s + 1)}$$

Aplicamos la f贸rmula de la posici贸n.

$$E_{ssp} = \frac{1}{1 + \frac{5}{0(0^{3} + 2(0)^{2} + 5(0) + 1)}}$$

El resultado nos da un $\infty$ en el denominador, por lo que la primera es cero.

$$E_{ssp} = \frac{1}{\infty} = 0$$

Para la entrada rampa aplicamos la formula y despejamos.

$$E_{ssv} = \lim_{s \to 0}\frac{1}{(s) \frac{5}{s(s^{3} + 2s^{2} + 5s + 1)}} $$
$$E_{ssv} = \lim_{s \to 0}\frac{1}{ \frac{5}{0^{3} + 2(0)^{2} + 5(0) + 1}} $$

Una vez despejamos obtenemos que nuestro error de velocidad es $\frac{1}{5} $

$$E_{ssv} = \frac{1}{5} $$

Para el error de aceleraci贸n aplicamos el l铆mite.

$$E_{ssa} = \lim_{s \to 0}\frac{1}{(s^{2}) \frac{5}{s (s^{3} + 2s^{2} + 5s + 1)}}$$
$$E_{ssa} = \lim_{s \to 0}\frac{1}{(0) \frac{5}{0^{3} + 2(0)^{2} + 5(0) + 1}} $$

Una vez despejado, nuestra ecuaci贸n terminara con un cero en el divisor, por lo tanto nuestro error de aceleraci贸n es indeterminado.

$$E_{ssa} = \frac{1}{0} =  \infty$$

 Ejemplo 3

En el tercer ejemplo tenemos esta funci贸n, la cual es parecida a las anteriores, pero es de un sistema de tercer orden.

$$G = \frac{5}{s^{2}(s^{3} + 2s^{2} + 5s + 1)}$$

Para el primer ejercicio aplicamos el teorema 

$$E_{ssp} = \frac{1}{1 + \frac{5}{0^{2}(0^{3} + 2(0)^{2} + 5(0) + 1)}}$$

Una vez despejado nos damos cuenta de que al reemplazar el l铆mite tenemos una "s" que multiplica todo el denominador, por ende, nuestro denominador termina siendo cero, haciendo que el error de posici贸n sea indeterminado.

$$E_{ssp} = \frac{1}{0} = \infty$$

En el segundo aplicamos el teorema para el error de velocidad

$$E_{ssv} = \lim_{s \to 0}\frac{1}{(s) \frac{5}{s^{2}(s^{3} + 2s^{2} + 5s + 1)}} $$
$$E_{ssv} = \lim_{s \to 0}\frac{1}{ \frac{5}{0 * (0^{3} + 2(0)^{2} + 5(0) + 1)}} $$

Es un caso similar al anterior, pues al simplificar obtenemos un cero en el denominador, haciendo que ac谩 tambi茅n nuestra respuesta sea indeterminada.

$$E_{ssv} = \frac{1}{0} = \infty$$

Por 煤ltimo aplicamos el teorema para el error de aceleraci贸n, y despejamos

$$E_{ssa} = \lim_{s \to 0}\frac{1}{(s^{2}) \frac{5}{s^{2} (s^{3} + 2s^{2} + 5s + 1)}}$$
$$E_{ssa} = \lim_{s \to 0}\frac{1}{ \frac{5}{0^{3} + 2(0)^{2} + 5(0) + 1}} $$

En este caso no tenemos el error indeterminado, esto se debe a que se puede simplificar la "s" que nos volvi贸 cero el denominador, haciendo que nuestra respuesta para el error de aceleraci贸n sea $\frac{1}{5}$

$$E_{ssa} = \frac{1}{5}$$


### 3.5. Tipos de sistemas 

De los ejemplos anteriores pudimos sacar la conclusi贸n que dependiendo del grado del sistema nuestros sistemas, y la cantidad de polos ubicados en cero nuestra respuesta ser谩 diferente, pero seguir谩 un patr贸n; como el de la siguiente tabla

| Sistema  | $E_{ssp}$  | $E_{ssv}$  | $E_{ssa}$  |
|---|---|---|---|
| Tipo 0  | k  | $\infty$  | $\infty$  |
| Tipo 1  | k  | k  | $\infty$  |
| Tipo 2  | 0  | 0  | k  |

En donde k ser谩 una constante diferente de cero.

## 4. Dise帽o de controlador 
### 4.1. Correcci贸n del error 

Cuando tenemos un error de estado estacionario en nuestro sistema, podremos reducirlo o eliminarlo con un controlador que modifique nuestra funci贸n de transferencia. Esto lo har谩 multiplicando una variable k por la funci贸n de transferencia del sistema, d谩ndonos una nueva ecuaci贸n $G_{p} * K_{p}$

 Ejemplo con controlador 

G = \frac{s + 4}{(s - 1)}

Para este sistema se dise帽ar谩 un controlador que garantice un error menor al 10% (Lazo cerrado)

![](Imagenes/Error2.PNG)

Figura 2. Ejemplo controlador

Lo primero que hacemos es ajustar la ecuaci贸n para que todo que como un solo bloque que ser谩 nuestra funci贸n por $k_{p}$

$$E_{ssp} = \frac{1}{1 + \frac{k_{p}(0 + 4)}{0^{2} + 0(1) - 2}}$$

Usamos la formula del error de posici贸n y despejamos.

$$E_{ssp} = \frac{1}{1 + \frac{k_{p}(4)}{-2}}$$

De lo cual obtenemos el siguiente resultado.

$$E_{ssp} = \frac{-2}{4k_{p} - 2}$$

Una vez obtenido nuestro error, vamos a calcular cu谩nto debe ser $k_{p}$ para que nuestro error sea menor al 10%. Para esto aplicamos una igualdad entre nuestro error y el porcentaje al cual debe ser menor.

$$|{\frac{-2}{4k_{p} - 2}}| \leq 0.1$$

Despejamos $k_{p}$

$$|-2| \leq 0.4k_{p} - 0.2$$

$$k_{p} \geq \frac{0.2 + 2}{0.4}$$

$$k_{p} \geq 5.5$$

Y al final obtenemos que nuestro $k_{p}$ debe ser mayor o igual a 5.5 para que nuestro error sea menor al 10%

## 5. Sensibilidad 

La sensibilidad se conoce como la variaci贸n de los par谩metros de la planta afectan a la salida del sistema, ya que como vimos anteriormente estos par谩metros infligen cambios en la planta y su salida. Las f贸rmulas son las siguientes:

La sensibilidad es "P" por el cambio en "F" sobre "F" por el cambio en "P"

$$S_{F:P} = \frac{P\bigtriangleup F}{F\bigtriangleup P}$$

Lo cual es igual a "P" sobre "F" multiplicado por la derivada parcial de "F" sobre "P"

$$S_{F:P} = \frac{F}{P} \frac{\mathrm{d} F}{\mathrm{d} P}$$


## 6. Ejercicios 

  Ejercicio 1

Dise帽ar un controlador de lazo cerrado que garantice un error de velocidad menor al 5%
 
 $$G(s) = \frac{s + 2}{s^{2} - 4s}$$

Asumimos nuestra ganancia por la funci贸n de transferencia es un solo bloque y tenemos alimentaci贸n unitaria

![](Imagenes/Ejercicioerror.PNG).

Figura 3. Error con controlador

Primero usamos la formula del error de velocidad

 $$E_{ssv} = \lim_{s \to 0} (\frac{1}{sG(s)})$$

Luego reemplazamos y despejamos

 $$E_{ssv} = \lim_{s \to 0} (\frac{1}{s(\frac{(s + 2)k_{v}}{s(s-4)})})$$

 $$E_{ssv} = \lim_{s \to 0} (\frac{1}{\frac{k_{v}(0 + 2)}{0 - 4}})$$

Y el error de velocidad nos queda de la siguiente manera

 $$E_{ssv} = \frac{-2}{k_{v}}$$

Sabiendo cual es el error podemos igualarlo al 5% para dise帽ar el controlador con los par谩metros que queremos.

$$|\frac{-2}{k_{v}}| \leq 0.05$$

$$|-2| \leq k_{v}$$

$$k_{v} \geq \frac{2}{0.05}$$

$$k_{v} \geq 40$$

Por lo tanto, si queremos que nuestro error sea menor al 5% nuestra k_{v} debe ser igual o mayor a 40.

 Ejercicio 2.

Calcular la sensibilidad, con los siguientes datos:

Go = K 

$$G(s) = \frac{1}{s(s + 4)}$$

H(s) = 3

Ya con los datos los reemplazamos y despejamos la ecuaci贸n 

$$S_{A:G} = \frac{1}{1 + (3K)\frac{1}{s(s+4)}}$$

$$S_{A:G} = \frac{1}{\frac{s(s + 4) + 3K}{s+4}}$$

$$S_{A:G} = \frac{s(s+4)}{s^{2} + 4s + 3K}$$

Por lo que tendremos que nuestra sensibilidad ser谩 igual a:

$$S_{A:G} = \frac{s^{2} + 4s)}{s^{2} + 4s + 3K}$$

## 7. S铆ntesis conclusiva.

El error de  estado estacionario nos ayuda a evaluar la precisi贸n de los sistemas de control frente a se帽ales que var铆an la estabilidad de los sistemas. Frente a las distintas entradas (Paso, rampa, par谩bola) encontraremos el error de diferentes maneras, y se podr谩 determinar cu谩l es la desigualdad entre la salida real y la salida deseada, en un tiempo infinito. 
La funci贸n de la sensibilidad nos permite cuantificar como se ve afectado nuestro sistema por errores de medici贸n, perturbaciones o variaciones de nuestra entrada. La cual compara como los criterios de nuestra planta se ven infligidos en la salida.
Comprender como afecta el orden del sistema y los polos nos permite dise帽ar controladores eficientes y precisos que garanticen una respuesta satisfactoria que cumpla con los criterios de desempe帽os esperados. por lo que el error en estado estacionario nos sirve como gu铆a para el ajuste de los sistemas din谩micos.

## 8. Referencias 

N. Nise, Control System Engineering, 6th edition. John Wiley Editorial

